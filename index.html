<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        
        <!-- Import TensorFlow.js -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
        <!-- Import tfjs-vis -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis"></script>
        <!-- Import knn classifier -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/knn-classifier"></script>
        <!-- import mobilenet -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>
        <!-- Import the data file (mnist dataset) -->
        <script src="./src/scripts/data.js" type="module" defer></script>
        <!-- Import the main script file -->
        <script src="./src/scripts/mnist_script.js" type="module" defer></script>
        <script src="./src/scripts/mobileNet_script.js" defer></script>
        <script src="./src/scripts/test_script.js" defer></script>
        <script src="./src/scripts/yolov8.js" defer></script>

        <link rel="stylesheet" href="./src/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="container">
            <h3>Test tensorflow is available</h3>
            <button class="main_btn" onclick="tensorflow_random_btn()">Predict</button>
            <p class="states" id="tensorflow_test">predict: </p>
        </div>
        <hr>
        
        <!-- TODO: add random number and show for predict -->
        <!-- TODO: add hand write board -->
        <div class="container">
            <h3>Train MNIST dataset</h3>
            <button class="main_btn" id="train_MNIST_btn">Train model</button>
            <button class="main_btn" id="show_panel_btn">Show/hide panel</button>
            <p class="states" id="model_state">State: none</p>
        </div>
        <hr>
        
        <div class="container">
            <div class="container" id="main-function-container">
                <h3>Mobilenet image classifier</h3>
                <button class="main_btn" onclick="load_mobilenet()">Load model</button>
                <button class="main_btn" id="predict_btn" onclick="app()" disabled="false">Predict</button>
                <div id="media-container">
                    <img id="img" src="./src/JlUvsxa.jpg" width="227" height="227">
                    <div>
                        <button class="media_btn" id="upload_btn_1">
                            upload file
                            <input type="file" class="file_input" accept="image/jpeg, image/png">
                        </button>
                        <button class="media_btn" id="upload_btn_2">
                            camera
                            <input type="file" class="file_input" capture="camera">
                        </button>
                    </div>
                </div>
                <button class="main_btn" onclick="toggleCameraMode()">Toggle realtime</button>
                <p class="states" id="mobilenet_state">State: not load</p>
            </div>

            <div id="custom-classifier-container">
                <div id="custom-classifier-load-container">
                    <p>Custom classifier: <input type="checkbox" id="custom-classifier-checkbox"></p>
                    <div>
                        <button class="main_btn" id="custom-classifier-reset-btn" onclick="resetImages()">reset</button>
                        <button class="main_btn" id="custom-classifier-load-btn" onclick="handleFileUpload()">Load</button>
                    </div>
                </div>
                <div id="custom-classifier-input-container">
                    <div>
                        <p id="countA">Image count: 0</p>
                        <label for="classA-name-input">ClassName:</label><br>
                        <input type="text" id="classA-name-input" value="ClassA"><br>
                        <button class="media_btn" id="upload_classA_btn">
                            upload class A file
                            <input type="file" class="file_input" accept="image/jpeg, image/png" multiple>
                        </button>
                    </div>
                    <div>
                        <p id="countB">Image count: 0</p>
                        <label for="classB-name-input">ClassName:</label><br>
                        <input type="text" id="classB-name-input" value="ClassB"><br>
                        <button class="media_btn" id="upload_classB_btn">
                            upload class B file
                            <input type="file" class="file_input" accept="image/jpeg, image/png" multiple>
                        </button>
                    </div>
                    <div>
                        <p id="countC">Image count: 0</p>
                        <label for="classC-name-input">ClassName:</label><br>
                        <input type="text" id="classC-name-input" value="ClassC"><br>
                        <button class="media_btn" id="upload_classC_btn">
                            upload class C file
                            <input type="file" class="file_input" accept="image/jpeg, image/png" multiple>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- TODO: 增加 yolov9 模型應用 -->
        <!-- TODO: 增加 訓練模型功能 -->

</body>
</html>